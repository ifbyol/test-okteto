name: hola

build:
  my-image:
    context: .

deploy:
  remote: true
  commands:
    - name: Cue
      command: cue version
    - name: PWD
      command: pwd
    - name: Ssh list identities
      command: ssh-add -L
    - name: Ssh list identities 2
      command: ssh-add -l
    - name: Clone private repository
      command: git clone git@github.com:ifbyol/test-up-statefulset.git
    - name: Ls -la
      command: ls -la test-up-statefulset/
    - name: clone another private repo
      command: git clone git@github.com:ifbyol/test-failed-compose-name
    - name: Ls -la
      command: ls -la test-failed-compose-name/
#    - name: Delete identities
#      command: ssh-add -D

test:
  unit:
    commands:
      - name: hi
        command: echo "hi!"

destroy:
  remote: true
  commands:
    - name: print something
      command: echo "hi! this is a test"
    - name: Ssh list identities
      command: ssh-add -L
    - name: Ssh list identities 2
      command: ssh-add -l
    - name: ls
      command: ls -la
    - name: sleep
    - command: sleep 30
